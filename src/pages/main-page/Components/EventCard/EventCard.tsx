import React from 'react';
import { SportEvent } from '../../types/events';
import styles from './EventCard.module.css';

interface EventCardProps {
  event: SportEvent;
  buttonText: string;
  isResults?: boolean;
}

const EventCard: React.FC<EventCardProps> = ({ 
  event, 
  buttonText, 
  isResults = false 
}) => {
  const sportClass = `${styles.sportTag} ${styles[`sport${event.sport.charAt(0).toUpperCase() + event.sport.slice(1)}`]}`;
  
  return (
    <div className={styles.eventCard}>
      <div className={styles.eventInfo}>
        <div className={styles.eventSport}>
          <span className={sportClass}>{getSportName(event.sport)}</span>
          {event.teamType && (
            <span className={`${styles.sportTag} ${styles.teamType}`}>{event.teamType}</span>
          )}
        </div>
        <h3 className={styles.eventName}>{event.name}</h3>
        <div className={styles.eventMeta}>
          <div className={styles.eventDate}>
            <span className={styles.dateLabel}>
              {isResults ? 'Завершён' : 'Дата проведения'}
            </span>
            <span>{event.date}</span>
          </div>
          {event.details && (
            <div className={styles.eventDetails}>
              <div className={`${styles.eventPlaces} ${styles[event.details.type]}`}>
                {event.details.type === 'warning' && (
                    <svg fill="#FA4D30" width="16" height="15" viewBox="0 0 16 15" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0.1875C6.55373 0.1875 5.13993 0.616371 3.9374 1.41988C2.73486 2.22339 1.7976 3.36544 1.24413 4.70163C0.690668 6.03781 0.545857 7.50811 0.828011 8.9266C1.11017 10.3451 1.80661 11.648 2.82928 12.6707C3.85196 13.6934 5.15492 14.3898 6.57341 14.672C7.99189 14.9541 9.46219 14.8093 10.7984 14.2559C12.1346 13.7024 13.2766 12.7651 14.0801 11.5626C14.8836 10.3601 15.3125 8.94628 15.3125 7.5C15.3105 5.56123 14.5394 3.70246 13.1685 2.33154C11.7975 0.960627 9.93877 0.189547 8 0.1875ZM8 13.6875C6.77623 13.6875 5.57994 13.3246 4.56241 12.6447C3.54488 11.9648 2.75182 10.9985 2.2835 9.86785C1.81518 8.73724 1.69265 7.49314 1.93139 6.29288C2.17014 5.09262 2.75944 3.99011 3.62478 3.12478C4.49012 2.25944 5.59262 1.67014 6.79288 1.43139C7.99314 1.19264 9.23724 1.31518 10.3679 1.7835C11.4985 2.25181 12.4648 3.04488 13.1447 4.06241C13.8246 5.07994 14.1875 6.27623 14.1875 7.5C14.1856 9.14046 13.5331 10.7132 12.3732 11.8732C11.2132 13.0331 9.64046 13.6856 8 13.6875ZM9.125 10.875C9.125 11.0242 9.06574 11.1673 8.96025 11.2727C8.85476 11.3782 8.71169 11.4375 8.5625 11.4375C8.26413 11.4375 7.97799 11.319 7.76701 11.108C7.55603 10.897 7.4375 10.6109 7.4375 10.3125V7.5C7.28832 7.5 7.14525 7.44074 7.03976 7.33525C6.93427 7.22976 6.875 7.08668 6.875 6.9375C6.875 6.78832 6.93427 6.64524 7.03976 6.53975C7.14525 6.43426 7.28832 6.375 7.4375 6.375C7.73587 6.375 8.02202 6.49353 8.233 6.7045C8.44398 6.91548 8.5625 7.20163 8.5625 7.5V10.3125C8.71169 10.3125 8.85476 10.3718 8.96025 10.4773C9.06574 10.5827 9.125 10.7258 9.125 10.875ZM6.875 4.40625C6.875 4.23937 6.92449 4.07624 7.0172 3.93749C7.10991 3.79873 7.24169 3.69059 7.39586 3.62673C7.55004 3.56287 7.71969 3.54616 7.88336 3.57871C8.04703 3.61127 8.19737 3.69163 8.31537 3.80963C8.43337 3.92763 8.51373 4.07797 8.54629 4.24164C8.57885 4.40531 8.56214 4.57496 8.49828 4.72914C8.43441 4.88331 8.32627 5.01509 8.18752 5.1078C8.04876 5.20052 7.88563 5.25 7.71875 5.25C7.49498 5.25 7.28037 5.16111 7.12213 5.00287C6.9639 4.84464 6.875 4.63003 6.875 4.40625Z" fill="#4A82F2"/>
</svg>

                )}
                {event.details.type === 'available' && (
                    <svg fill="#4A82F2" width="16" height="15" viewBox="0 0 16 15" xmlns="http://www.w3.org/2000/svg">
<path d="M8 0.1875C6.55373 0.1875 5.13993 0.616371 3.9374 1.41988C2.73486 2.22339 1.7976 3.36544 1.24413 4.70163C0.690668 6.03781 0.545857 7.50811 0.828011 8.9266C1.11017 10.3451 1.80661 11.648 2.82928 12.6707C3.85196 13.6934 5.15492 14.3898 6.57341 14.672C7.99189 14.9541 9.46219 14.8093 10.7984 14.2559C12.1346 13.7024 13.2766 12.7651 14.0801 11.5626C14.8836 10.3601 15.3125 8.94628 15.3125 7.5C15.3105 5.56123 14.5394 3.70246 13.1685 2.33154C11.7975 0.960627 9.93877 0.189547 8 0.1875ZM8 13.6875C6.77623 13.6875 5.57994 13.3246 4.56241 12.6447C3.54488 11.9648 2.75182 10.9985 2.2835 9.86785C1.81518 8.73724 1.69265 7.49314 1.93139 6.29288C2.17014 5.09262 2.75944 3.99011 3.62478 3.12478C4.49012 2.25944 5.59262 1.67014 6.79288 1.43139C7.99314 1.19264 9.23724 1.31518 10.3679 1.7835C11.4985 2.25181 12.4648 3.04488 13.1447 4.06241C13.8246 5.07994 14.1875 6.27623 14.1875 7.5C14.1856 9.14046 13.5331 10.7132 12.3732 11.8732C11.2132 13.0331 9.64046 13.6856 8 13.6875ZM9.125 10.875C9.125 11.0242 9.06574 11.1673 8.96025 11.2727C8.85476 11.3782 8.71169 11.4375 8.5625 11.4375C8.26413 11.4375 7.97799 11.319 7.76701 11.108C7.55603 10.897 7.4375 10.6109 7.4375 10.3125V7.5C7.28832 7.5 7.14525 7.44074 7.03976 7.33525C6.93427 7.22976 6.875 7.08668 6.875 6.9375C6.875 6.78832 6.93427 6.64524 7.03976 6.53975C7.14525 6.43426 7.28832 6.375 7.4375 6.375C7.73587 6.375 8.02202 6.49353 8.233 6.7045C8.44398 6.91548 8.5625 7.20163 8.5625 7.5V10.3125C8.71169 10.3125 8.85476 10.3718 8.96025 10.4773C9.06574 10.5827 9.125 10.7258 9.125 10.875ZM6.875 4.40625C6.875 4.23937 6.92449 4.07624 7.0172 3.93749C7.10991 3.79873 7.24169 3.69059 7.39586 3.62673C7.55004 3.56287 7.71969 3.54616 7.88336 3.57871C8.04703 3.61127 8.19737 3.69163 8.31537 3.80963C8.43337 3.92763 8.51373 4.07797 8.54629 4.24164C8.57885 4.40531 8.56214 4.57496 8.49828 4.72914C8.43441 4.88331 8.32627 5.01509 8.18752 5.1078C8.04876 5.20052 7.88563 5.25 7.71875 5.25C7.49498 5.25 7.28037 5.16111 7.12213 5.00287C6.9639 4.84464 6.875 4.63003 6.875 4.40625Z" fill="#4A82F2"/>
</svg>
                )}
                <span>{event.details.text}</span>
              </div>
            </div>
          )}
        </div>
      </div>
      <button className={`${styles.eventBtn} ${isResults ? styles.resultsBtn : ''}`}>
        {buttonText}
      </button>
    </div>
  );
};

const getSportName = (sport: string): string => {
  const names: Record<string, string> = {
    volleyball: 'Волейбол',
    tennis: 'Теннис',
    basketball: 'Баскетбол',
    football: 'Футбол'
  };
  return names[sport] || sport;
};

export default EventCard;